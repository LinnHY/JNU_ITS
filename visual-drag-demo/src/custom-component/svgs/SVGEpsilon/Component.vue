<!-- eslint-disable max-len -->
<template>
    <div class="svg-arrow-container">
        <svg
            t="1678684265912"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="8530"
            width="200"
            height="200"
        ><path d="M442.902 470.813c-29.297-8.79-51.757-22.299-67.382-40.528-15.626-18.23-23.438-39.713-23.438-64.453 0-33.854 14.648-61.605 43.945-83.252s67.546-32.47 114.746-32.47c41.342 0 76.254 7.405 104.737 22.216 28.483 14.811 42.724 32.959 42.724 54.444 0 10.742-3.336 19.287-10.01 25.634-6.673 6.348-15.38 9.522-26.122 9.522-10.417 0-19.206-2.686-26.368-8.057-7.161-5.371-14.485-15.055-21.972-29.053-8.79-16.601-18.067-28.076-27.832-34.423-9.766-6.348-23.112-9.522-40.04-9.522-21.158 0-37.434 7.487-48.827 22.461-11.394 14.974-17.09 36.133-17.09 63.477 0 27.343 5.778 48.909 17.334 64.697 11.556 15.788 27.1 23.682 46.63 23.682 8.139 0 19.776-2.198 34.913-6.592 15.136-4.395 26.448-6.592 33.935-6.592 9.766 0 17.578 2.767 23.438 8.3 5.86 5.535 8.789 12.696 8.789 21.485 0 10.417-2.767 18.392-8.301 23.926-5.534 5.534-13.51 8.3-23.926 8.3-7.812 0-18.961-3.01-33.447-9.033-14.486-6.022-25.96-9.033-34.424-9.033-20.833 0-37.19 8.22-49.072 24.658-11.882 16.44-17.822 38.981-17.822 67.627 0 31.576 8.87 57.13 26.61 76.66 17.742 19.532 41.26 29.297 70.558 29.297 26.367 0 49.234-7.568 68.603-22.705 19.369-15.136 36.377-38.655 51.025-70.556l27.344 13.183c-16.601 40.365-39.306 70.475-68.115 90.332-28.809 19.857-64.534 29.785-107.178 29.785-47.852 0-86.588-12.37-116.21-37.109-29.623-24.74-44.434-57.129-44.434-97.168 0-28.971 8.3-53.63 24.902-73.974 16.602-20.346 40.527-35.4 71.777-45.167z" fill="#333333" p-id="8531"></path><path d="M442.902 470.813c-29.297-8.79-51.757-22.299-67.382-40.528-15.626-18.23-23.438-39.713-23.438-64.453 0-33.854 14.648-61.605 43.945-83.252s67.546-32.47 114.746-32.47c41.342 0 76.254 7.405 104.737 22.216 28.483 14.811 42.724 32.959 42.724 54.444 0 10.742-3.336 19.287-10.01 25.634-6.673 6.348-15.38 9.522-26.122 9.522-10.417 0-19.206-2.686-26.368-8.057-7.161-5.371-14.485-15.055-21.972-29.053-8.79-16.601-18.067-28.076-27.832-34.423-9.766-6.348-23.112-9.522-40.04-9.522-21.158 0-37.434 7.487-48.827 22.461-11.394 14.974-17.09 36.133-17.09 63.477 0 27.343 5.778 48.909 17.334 64.697 11.556 15.788 27.1 23.682 46.63 23.682 8.139 0 19.776-2.198 34.913-6.592 15.136-4.395 26.448-6.592 33.935-6.592 9.766 0 17.578 2.767 23.438 8.3 5.86 5.535 8.789 12.696 8.789 21.485 0 10.417-2.767 18.392-8.301 23.926-5.534 5.534-13.51 8.3-23.926 8.3-7.812 0-18.961-3.01-33.447-9.033-14.486-6.022-25.96-9.033-34.424-9.033-20.833 0-37.19 8.22-49.072 24.658-11.882 16.44-17.822 38.981-17.822 67.627 0 31.576 8.87 57.13 26.61 76.66 17.742 19.532 41.26 29.297 70.558 29.297 26.367 0 49.234-7.568 68.603-22.705 19.369-15.136 36.377-38.655 51.025-70.556l27.344 13.183c-16.601 40.365-39.306 70.475-68.115 90.332-28.809 19.857-64.534 29.785-107.178 29.785-47.852 0-86.588-12.37-116.21-37.109-29.623-24.74-44.434-57.129-44.434-97.168 0-28.971 8.3-53.63 24.902-73.974 16.602-20.346 40.527-35.4 71.777-45.167z" fill="#333333" p-id="8532"></path><path d="M92.978 158.138c5.627 0.514 8.445-0.75 8.265-3.849-0.232-3.977-1.57-4.539-8.115-4.538H93a0.25 0.25 0 0 0 0 0.5h0.128c6.308 0 7.405 0.46 7.615 4.067 0.157 2.686-2.354 3.812-7.72 3.322a0.25 0.25 0 0 0-0.045 0.498zM92 161.25h9.523a0.25 0.25 0 0 0 0-0.5H92a0.25 0.25 0 0 0 0 0.5z" fill="#666666" p-id="8533"></path></svg>
        <v-text :prop-value="element.propValue" :element="element" />
    </div>
</template>

<script>
import OnEvent from '../../common/OnEvent'

export default {
    extends: OnEvent,
    props: {
        propValue: {
            type: String,
            required: true,
            default: '',
        },
        element: {
            type: Object,
            default: () => {},
        },
    },
    data() {
        return {
            points: '',
        }
    },
    watch: {
        'element.style.width': function () {
            this.draw()
        },
        'element.style.height': function () {
            this.draw()
        },
    },
    mounted() {
        this.draw()
    },
    methods: {
        draw() {
            const { width, height } = this.element.style
            this.drawTriangle(width, height)
        },

        drawTriangle(width, height) {
            // 箭头四个坐标点的比例集合
            const points = [
                [0.75, 0],
                [0, 0.5],
                [1, 0.5],
                [0.75, 1],
            ]

            const coordinatePoints = points.map(point => width * point[0] + ' ' + height * point[1])
            this.points = coordinatePoints.toString()
        },
    },
}
</script>

<style lang="scss" scoped>
.svg-arrow-container {
    width: 100%;
    height: 100%;

    svg {
        width: 100%;
        height: 100%;
    }

    .v-text {
        position: absolute;
        top: 72%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50%;
        height: 40%;
    }
}
</style>

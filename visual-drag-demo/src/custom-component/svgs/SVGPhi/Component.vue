<!-- eslint-disable max-len -->
<template>
    <div class="svg-arrow-container">
        <svg
            t="1678683655643"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="6693"
            width="200"
            height="200"
        ><path d="M564.082 248.145v389.648c58.92-4.232 103.271-22.624 133.057-55.176 29.785-32.552 44.677-78.776 44.677-138.672 0-59.57-14.73-105.631-44.189-138.183-29.46-32.553-73.974-51.758-133.545-57.617z m-104.004 0c-59.896 5.859-104.736 25.064-134.521 57.617-29.786 32.552-44.678 78.613-44.678 138.183 0 59.896 14.892 105.957 44.678 138.184 29.785 32.227 74.625 50.781 134.521 55.664V248.145z m202.149-113.282c-40.04 0.651-66.407 6.673-79.102 18.067-12.695 11.393-19.043 33.04-19.043 64.941v5.371c92.774 3.255 165.12 24.251 217.041 62.988 51.92 38.738 77.88 90.983 77.88 156.739 0 61.849-26.203 112.386-78.612 151.611-52.41 39.226-124.512 62.093-216.309 68.604v10.742c0 30.273 6.836 51.188 20.508 62.744 13.672 11.556 39.55 17.66 77.637 18.31V775h-301.27v-20.02c38.737-0.65 64.941-6.917 78.613-18.798 13.672-11.882 20.508-33.61 20.508-65.186v-7.812c-92.123-6.51-164.469-29.378-217.04-68.604-52.573-39.225-78.858-89.762-78.858-151.611 0-65.43 26.041-117.594 78.125-156.494 52.083-38.9 124.674-59.978 217.773-63.233v-5.37c0-32.228-6.347-53.956-19.043-65.186-12.695-11.231-39.388-17.172-80.078-17.823v-20.02h301.27v20.02z" fill="#333333" p-id="6694"></path><path d="M564.082 248.145v389.648c58.92-4.232 103.271-22.624 133.057-55.176 29.785-32.552 44.677-78.776 44.677-138.672 0-59.57-14.73-105.631-44.189-138.183-29.46-32.553-73.974-51.758-133.545-57.617z m-104.004 0c-59.896 5.859-104.736 25.064-134.521 57.617-29.786 32.552-44.678 78.613-44.678 138.183 0 59.896 14.892 105.957 44.678 138.184 29.785 32.227 74.625 50.781 134.521 55.664V248.145z m202.149-113.282c-40.04 0.651-66.407 6.673-79.102 18.067-12.695 11.393-19.043 33.04-19.043 64.941v5.371c92.774 3.255 165.12 24.251 217.041 62.988 51.92 38.738 77.88 90.983 77.88 156.739 0 61.849-26.203 112.386-78.612 151.611-52.41 39.226-124.512 62.093-216.309 68.604v10.742c0 30.273 6.836 51.188 20.508 62.744 13.672 11.556 39.55 17.66 77.637 18.31V775h-301.27v-20.02c38.737-0.65 64.941-6.917 78.613-18.798 13.672-11.882 20.508-33.61 20.508-65.186v-7.812c-92.123-6.51-164.469-29.378-217.04-68.604-52.573-39.225-78.858-89.762-78.858-151.611 0-65.43 26.041-117.594 78.125-156.494 52.083-38.9 124.674-59.978 217.773-63.233v-5.37c0-32.228-6.347-53.956-19.043-65.186-12.695-11.231-39.388-17.172-80.078-17.823v-20.02h301.27v20.02z" fill="#333333" p-id="6695"></path></svg>
        <v-text :prop-value="element.propValue" :element="element" />
    </div>
</template>

<script>
import OnEvent from '../../common/OnEvent'

export default {
    extends: OnEvent,
    props: {
        propValue: {
            type: String,
            required: true,
            default: '',
        },
        element: {
            type: Object,
            default: () => {},
        },
    },
    data() {
        return {
            points: '',
        }
    },
    watch: {
        'element.style.width': function () {
            this.draw()
        },
        'element.style.height': function () {
            this.draw()
        },
    },
    mounted() {
        this.draw()
    },
    methods: {
        draw() {
            const { width, height } = this.element.style
            this.drawTriangle(width, height)
        },

        drawTriangle(width, height) {
            // 箭头四个坐标点的比例集合
            const points = [
                [0.75, 0],
                [0, 0.5],
                [1, 0.5],
                [0.75, 1],
            ]

            const coordinatePoints = points.map(point => width * point[0] + ' ' + height * point[1])
            this.points = coordinatePoints.toString()
        },
    },
}
</script>

<style lang="scss" scoped>
.svg-arrow-container {
    width: 100%;
    height: 100%;

    svg {
        width: 100%;
        height: 100%;
    }

    .v-text {
        position: absolute;
        top: 72%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 50%;
        height: 40%;
    }
}
</style>
